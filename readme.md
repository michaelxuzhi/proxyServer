### 代理服务，利用 websocket 实现消息中转

    - 这是中转服务的主要逻辑结构，忽略decode/encode
    - 可以用作游戏协议的拦截，监听，在解码之后可以做协议修改后再发送（针对边界值、异常值测试）
    - 可以模拟游戏层面的丢包，网络延迟

### 游戏客户端与 ws_server 相连，第一条消息是真实游戏服务器的 ws_url

    - 将特殊处理第一条消息，用于ws_client的建立

### 消息存储：消息队列

### 消息处理机制：用锁的方式限制消息的消费；用递归依次消费消息队列

    - 当收到游戏客户端持续发送来的协议消息时，将会按序存入msg_queue = []，并派发消息接收事件，触发消息处理逻辑
    - 当读取消息时，加锁，第一条消息是ws_url，触发ws_client的建立，并派发ws_client建立逻辑，同时触发消息处理逻辑
    - 利用递归，可以完整、依次地将msg_queue中的消息消费完，当msg_queue.length = 0，则ws_client可以暂停处理消息，等待下次派发出消息接收事件，再激活ws_client进行消息处理

### 断线处理

#### 游戏客户端断线

    - 清空msg_queue；重置消息处理锁；主动关闭ws_client，与游戏服务器断开连接

#### 游戏服务端断线

    - 清空msg_queue；重置消息处理锁；主动关闭game_client，与游戏客户端断开连接
